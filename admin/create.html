<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Event</title>
    <link rel="stylesheet" href="../OfflineResources/fontawesome-free-6.4.2-web/css/all.css">
    <link rel="stylesheet" href="../OfflineResources/bootstrap-5.3.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../register.css">
    <style>
     input::placeholder{
          color: #fff!important;
     }
     .list-group-item{
          input{
               height: 20px;
               font-size: 15px;
          }
     }
     input[type="email"]{
          height: 30px;
     }
     .add, .add:hover, .remove, .remove:hover{
          background-color: var(--gold);
          color: #000;
          border: none;
          padding: 5px 10px;
          border-radius: 5px;
     }
     .add:hover, .remove:hover{
          border: 1px solid var(--gold);
          color: #000;
     }
     #flyer1{
          height: 100px;
          width: 100px;
          img{
               width: 100%;
               height: 100%;
               object-fit: contain;
          }
     }
     @media (min-width: 300px) and (max-width: 750px) {
          .forms {
               .form1 {
               left: 0vw;
             }  
          }
     }
    </style>
</head>
<body>
    <div class="container">
        <div class="steps">
            <div class="step1">Step 1</div>
            <div class="step2">Step 2</div>
            <div class="step3">Step 3</div>
            <div class="step4">Step 4</div>

            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
            <div class="line4"></div>
        </div>

        <form class="forms">
            <div class="form1">
                <div class="formm">
                    <div class="label">
                        <label for="eventTitle">What is your party Theme or Title:</label>
                        <input type="text" id="eventTitle" name="eventTitle" placeholder="Event Title">

                        <label for="eventLocation">Event Location</label>
                        <input type="text" id="eventLocation" required>
                        
                        <label for="eventDescription">Event Description</label>
                        <textarea id="eventDescription" rows="3"></textarea>
                    </div>
                </div>
                
                <div class="movement">
                    <button type="button" class="next next1">Next</button>
                </div>
            </div>

            <div class="form2">
                <div class="formm">
                    <div class="label">
                        <label for="eventStart">Event start's on?</label>
                        <input type="date" id="eventStart">
                        <label for="eventStart">Event end's on?</label>
                        <input type="date" id="eventEnd">
                        <input type="file" id="file" name="flyer" class="d-none" onchange="previewImage()">
                        <label for="flyer" id="flyer1" onclick="upload()" class="form-label"><i class="fa fa-upload" aria-hidden="true"></i>Upload flyer</label>
                    </div>
                </div>

                <div class="movement">
                    <button type="button" class="back back2">Back</button>
                    <button type="button" class="next next2">Next</button>
                </div>
            </div>
            
            <div class="form3">
                <div class="formm">
                    <div class="label">
                        <div class="inputs">
                            <label for="who" class="form-label">Enter Ticket type and amount</label>
                            <div class="d-flex justify-content-between align-items-center">
                                <input type="text" name="wLevel" id="wLevel" placeholder="Enter Ticket Type">
                                <input type="number" class="form-control" id="amount" name="amount" placeholder="Enter Ticket Amount">
                                <button type="button" class="btn add" onclick="addLevel()">Add</button>
                            </div>
                        </div>
                        <ul class="list"></ul>
                    </div>
                </div>

                <div class="movement">
                    <button type="button" class="back back3">Back</button>
                    <button type="button" class="next next3">Next</button>
                </div>
            </div>

            <div class="form4">
                <div class="formm">
                    <label for="email">Enter email's for party check in</label>
                    <input type="email" name="email1" id="email">
                    <input type="email" name="email2" id="email">
                    <input type="email" name="email3" id="email">
                    <input type="email" name="email4" id="email">
                    <input type="email" name="email5" id="email">
                </div>

                <div class="movement">
                    <button type="button" class="back back4">Back</button>
                    <button type="submit" class="next next4">Add Event</button>
                </div>
            </div>
        </form>
    </div>

    <script src="../OfflineResources/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="https://kit.fontawesome.com/2a49fbdbb8.js" crossorigin="anonymous"></script> -->
    <script>
     function upload() {
          let input = document.querySelector("#file");
          input.click();
     }

     function previewImage() {
          const input = document.querySelector('#file');
          const file = input.files[0];
          const reader = new FileReader();

          reader.addEventListener('load', function() {
               const uploadPic = document.querySelector('#flyer1');
               uploadPic.innerHTML = `<img id="upload-pic" src="${reader.result}" alt="">`
          });

          if (file) {
               reader.readAsDataURL(file);
          }
     }
        // Function to adjust the left property dynamically based on screen size
        function adjustFormPosition(formElement) {
            if (window.innerWidth <= 767) {
                formElement.style.left = '0vw';
            } else {
                formElement.style.left = '20vw';
            }
        }

        // Event listeners for navigation
        document.querySelector('.next1').addEventListener("click", function() {
            const form1 = document.querySelector('.form1');
            const form2 = document.querySelector('.form2');
            const line2 = document.querySelector('.line2');

            line2.style.display = 'block';
            form1.style.left = '-120vw';

            adjustFormPosition(form2);
            form2.style.left = '20vw';
        });

        document.querySelector('.next2').addEventListener("click", function() {
            const form2 = document.querySelector('.form2');
            const form3 = document.querySelector('.form3');
            const line3 = document.querySelector('.line3');

            line3.style.display = 'block';
            form2.style.left = '-120vw';

            adjustFormPosition(form3);
            form3.style.left = '20vw';
        });

        document.querySelector('.back2').addEventListener("click", function() {
            const form1 = document.querySelector('.form1');
            const form2 = document.querySelector('.form2');
            const line2 = document.querySelector('.line2');

            line2.style.display = 'none';

            adjustFormPosition(form1);
            form1.style.left = '20vw';
            form2.style.left = '120vw';
        });

        document.querySelector('.next3').addEventListener("click", function() {
            const form3 = document.querySelector('.form3');
            const form4 = document.querySelector('.form4');
            const line4 = document.querySelector('.line4');

            line4.style.display = 'block';
            form3.style.left = '-120vw';

            adjustFormPosition(form4);
            form4.style.left = '20vw';
        });

        document.querySelector('.back3').addEventListener("click", function() {
            const form2 = document.querySelector('.form2');
            const form3 = document.querySelector('.form3');
            const line3 = document.querySelector('.line3');

            line3.style.display = 'none';

            adjustFormPosition(form2);
            form2.style.left = '20vw';
            form3.style.left = '120vw';
        });

        document.querySelector('.back4').addEventListener("click", function() {
            const form3 = document.querySelector('.form3');
            const form4 = document.querySelector('.form4');
            const line4 = document.querySelector('.line4');

            line4.style.display = 'none';

            adjustFormPosition(form3);
            form3.style.left = '20vw';
            form4.style.left = '120vw';
        });

        function addLevel() {
          const list = document.querySelector('.list');
          const level = document.querySelector('#wLevel');
          const price = document.querySelector('#amount');
      
          if (level.value.trim() === "") {
              alert("Please enter a level");
          } else if (price.value.trim() === "" || isNaN(price.value) || Number(price.value) <= 0) {
              alert("Please enter a valid price");
          } else {
              const li = document.createElement('li');
              li.classList.add('d-flex', 'justify-content-between', 'align-items-center', 'list-group-item');
              li.innerHTML = `
                  <input type="text" name="level" id="level" value="${level.value}" disabled>
                  <input type="number" name="price" id="price" value="${price.value}" disabled>
                  <button type="button" class="btn remove" onclick="removeLevel()">Remove</button>
                  `
              ;
              list.appendChild(li);
              
              // Optionally clear the input fields after adding
              level.value = "";
              price.value = "";
          }
     }
     
     function removeLevel() {
          const list = document.querySelector('.list');
          const li = document.querySelector('.list-group-item');
          list.removeChild(li);
     }
    </script>
</body>
</html>